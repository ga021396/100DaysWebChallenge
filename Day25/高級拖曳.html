<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>DAY25</title>
</head>
<style>
    div{width:100px;
    height:100px;
    border: 1px solid #000;
    position: absolute;}
    #div2 {width:400px;
    height:400px;
    border: 1px solid #000;
    position: relative;}
</style>
<body>
<div id="div2">
    <div id="div"></div>
    </div>
    
<script>
    window.onload=function(){
        var div=document.getElementById('div');
        var div2=document.getElementById('div2');
        div.onmousedown=function(ev){
            var disX=ev.clientX-div.offsetLeft;
            var disY=ev.clientY-div.offsetTop;
            
            document.onmousemove=function(ev){
                var l=ev.clientX-disX;
                var t=ev.clientY-disY;
                if(l<0){
                    l=0;}
                
                 if(t<0){
                    t=0;}
                
                if(l>(div2.offsetWidth-div.offsetWidth)*0.9)
                    { 
                        l=div2.offsetWidth-div.offsetWidth;
                    }
                
                if(t>div2.offsetHeight-div.offsetHeight)
                    { 
                        t=div2.offsetHeight-div.offsetHeight;
                    }
                
                div.style.left=l+'px';
                div.style.top=t+'px'; 
            }
                 document.onmouseup=function(){
            document.onmousemove=null;
            document.onmouseup=null;
        }
                 return false;
        }
    }
</script>
</body>
</html>
